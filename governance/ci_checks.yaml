checks:
  unit_tests:
    command: npm test -- --runInBand
    coverage_threshold: 0.8
  integration_tests:
    command: npm run test:integration
  mutation_tests:
    command: npm run test:mutation
    required: false
  lint:
    command: npm run lint
    fail_on_warning: true
  type_check:
    command: npm run typecheck
  security_scan:
    tools:
      - npm audit --audit-level=moderate
      - snyk test
    schedule: per_commit
  code_smells:
    command: npm run sonar
  adr_tags:
    command: npm run verify:adr-tags
policies:
  forbid_todo: true
  forbid_fixme: true
  max_class_size: 200
  max_method_size: 40
  track_build_time: true
  track_flakiness: true
